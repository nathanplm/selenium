<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Selenium Grid</title>
        <!--<link rel="icon" type="image/png" href="/assets/img/logo.png" />-->
        <link rel="stylesheet" href="../assets/css/main.css">
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <!-- Fontawesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" />
    </head>
    
        <div class="container-fluid banner">
            <img src="../assets/img/logo_selenium.png" class="img_logo">
            <img src="../assets/img/iut_bdx.png" class="img_iut" style="float:right;">
        </div>

        <nav class="navbar navbar-expand-xl navbar-light" style="margin-bottom:30px; background-color:#00B500;">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" style="color:white;font-size:18px;" href="../index.html">Accueil</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" style="color:white;font-size:18px;" href="../pages/selenium_composants.html" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Composants
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                          <a class="dropdown-item" href="../pages/selenium_ide.html">Selenium IDE</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="../pages/selenium_webdriver.html">Selenium WebDriver</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="../pages/selenium_grid.html">Selenium Grid</a>
                        </div>
                      </li>
                    <li class="nav-item">
                        <a class="nav-link" style="color:white;font-size:18px;" href="../pages/comparatif.html">Comparatif</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" style="color:white;font-size:18px;" href="../pages/demo.html">Demo</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!--   =========================================   -->

        <div>
            <div class="container container-fluid">

                <img src="../assets/img/logo_selenium_grid.png" class="img_logo">
                <h2>Selenium Grid</h2>

                <h4>Description :</h4>
                <p>
                    Selenium Grid permet d'exécuter des scripts WebDriver sur des machines distantes en routant les commandes envoyées par le client vers des instances de navigateur distantes. En fait,
                    cela permet d'exécuter de manière simple des tests en parallèle sur plusieurs machine. 
                </p>
                <p>
                    Selenium Grid permet également de gérer différentes versions et configurations d'un navigateur de manière centralisée, ce qui évite de devoir gérer chaque test de manière individuelle.
                </p>
                <p>
                    Cependant, Selenium Grid possède des limites ce qui pourrait l'amener à ne pas pouvoir répondre à certains besoins spécifiques
                    comme par exemple la gestion de l'infrastructure. 
                </p>
                <p>
                    Néanmoins, voici quelques unes de ses principales fonctionnalités :
                </p>
                
                <ul>
                    <li>Point d'entrée central pour tous les tests</li>
                    <li>Gestion et contrôle des nœuds / environnement où les navigateurs s'exécutent</li>
                    <li>Mise à l'échelle</li>
                    <li>Exécution de tests en parallèle</li>
                    <li>Tests multiplateformes</li>
                    <li>Equilibrage de charge</li>
                </ul>
                <br><br>

                <h4>Pourquoi l'utiliser ?</h4>
                <p>
                    Principalement :
                    <ul>
                        <li>Pour exécuter vos tests sur plusieurs navigateurs, plusieurs versions de navigateur et des navigateurs fonctionnant sur différents 
                            systèmes d'exploitation.</li>
                        <li>Pour réduire le temps nécessaire à la suite de tests pour terminer une passe de test.</li>
                    </ul>
                </p>

                <p>
                    Grid est utilisé pour accélérer l'exécution d'une passe de test en utilisant plusieurs machines pour exécuter des tests en parallèle.   
                    Par exemple, sur un grand nombre de test, il est possible de configurer Selenium Grid pour prendre ne charge plusieurs machines différentes
                    afin de diviser le temps d'exécution des tests (plus rapide que d'exécuter toute la suite de tests de manière séquentielle sur une seule machine).
                </p>

                <p>
                    Grid est également utilisé pour prendre en charge l'exécution de tests sur plusieurs environnements d'exécution, en particulier sur différents navigateurs en même temps.<br>
                    Par exemple, une "grille" de machines virtuelles peut être configurée, chacune prenant en charge un navigateur différent que l'application à tester doit prendre en charge.<br>
                    Lorsque la suite de tests est exécutée, Selenium-Grid reçoit chaque combinaison test-navigateur et attribue à chaque test une exécution sur le navigateur requis.
                </p>

                <p>
                    Il est également possible d'de configurer une grille pour tester l'application sur différentes versions d'un même navigateur.
                    Les "grilles" de Selenium sont donc très flexibles au niveau de la configuration.
                </p>
                
                <br><br>

                <h4>Pré-requis :</h4>

                <p>
                    Etant donné que Selenium Grid intervient au niveau de l'exécution des tests, avant de l'utiliser,
                    il est nécessaire d'avoir des scripts Selenium à exécuter.
                </p>

                <p>
                    Cela peut être des scripts qui ont été réalisés via Selenium WebDriver ou des scripts qui ont été
                    exportés de Selenium IDE par exemple.
                </p>

                <br><br>



                <h4>Son fonctionnement :</h4>

                <h5>Standalone</h5>
                <p>
                    Le mode Standalone est l'union de tous les composants de Selenium Grid. Une grille entièrement fonctionnelle est disponible après son démarrage en mode autonome.
                </p>
                <p>
                    Le mode autonome (Standalone) est également le mode le plus simple pour faire tourner une grille de sélénium. <br>
                    Par défaut, le serveur écoutera sur http://localhost:4444, et c'est l'URL vers laquelle vous devez pointer vos tests RemoteWebDriver. <br>
                    Le serveur détectera les pilotes disponibles qu'il peut utiliser à partir du système PATH
                </p>

                <img src="../assets/img/selenium_grid/demo_selenium_grid_standalone.png" class="img_selenium_grid">
                
                <h5>Hub</h5>
                <p>
                    Un Hub est la combinaison des composants suivants :
                    <ul>
                        <li>Router</li>
                        <li>Distributor</li>
                        <li>Session Map</li>
                        <li>New Session Queue</li>
                        <li>Event Bus</li>
                    </ul>
                </p>
                <img src="../assets/img/selenium_grid/demo_selenium_grid_components.png" class="img_selenium_grid">
                <p>
                    Pour en savoir plus sur les différents composants, n'hésitez pas à aller voir la <a href="https://www.selenium.dev/documentation/grid/components/">documentation officielle</a>.
                </p>

                <img src="../assets/img/selenium_grid/demo_selenium_grid_hub.png" class="img_selenium_grid">

                <h5>Nodes (noeuds)</h5>

                <p>
                    Un ou plusieurs nœuds peuvent être démarrés dans cette configuration et le serveur détectera les pilotes disponibles qu'il peut utiliser à partir du système PATH.
                </p>
                <img src="../assets/img/selenium_grid/demo_selenium_grid_nodes.png" class="img_selenium_grid">


                <h5>Distributed</h5>
                <p>
                    En mode Distributed chaque composant doit être démarré de son côté. Cette configuration est plus adaptée aux grandes grilles.
                </p>
                <p>
                    L'ordre de démarrage n'est pas forcément important mais il est néanmoins conseillé de suivre ces étapes :
                    <ol>
                        <li>Event Bus : sert de chemin de communication vers d'autres composants de la grille dans les étapes suivantes.</li>
                        <strong>java -jar selenium-server-<version>.jar  event-bus</strong><br><br>

                        <li>Session Map : responsable du mappage des ID de session au noeud où la session est en cours d'exécution.</li>
                        <strong>java -jar selenium-server-<version>.jar sessions</strong><br><br>

                        <li>New Session Queue : ajoute la nouvelle demande de session à une file d'attente, puis le "Distributor" la traite.</li>
                        <strong>java -jar selenium-server-<version>.jar sessionqueue</strong><br><br>

                        <li>Distributor : les noeuds s'y enregistrent et attribuent un noeud pour une demande de session.</li>
                        <strong>java -jar selenium-server-<version>.jar distributor --sessions http://localhost:5556 --sessionqueue http://localhost:5559 --bind-bus false</strong><br><br>

                        <li>Router : le point d'entrée de la grille, en charge de rediriger les requêtes vers le bon composant.</li>
                        <strong>java -jar selenium-server-<version>.jar router --sessions http://localhost:5556 --distributor http://localhost:5553 --sessionqueue http://localhost:5559</strong><br><br>

                        <li>Nodes</li>
                        <strong>java -jar selenium-server-<version>.jar node </strong>
                    </ol>
                </p>

                <h5>Faire des requêtes à la grille</h5>
                <p>
                    Après le démarrage d'une grille, il existe principalement deux façons d'interroger son statut, via l'interface utilisateur de la grille ou via un appel API.
                </p>
                <p>
                    L'interface utilisateur de la grille est accessible en ouvrant le navigateur de votre choix et en vous rendant sur http://localhost:4444 .
                </p>
                <p>
                    Les appels d'API peuvent être effectués via <strong>http://localhost:4444/status</strong> ou en utilisant GraphQL : <br>
                    <strong>curl -X POST -H "Content-Type: application/json" --data '{ "query": "{grid{uri}}" }' -s http://localhost:4444/graphql | jq .</strong>
                </p>
                
            </div>
        </div>

        <!--   =========================================   -->

        <div class="footer">
            <div class="container">
            </div>
        </div>

        <!-- Library js for bootstrap -->
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>



</html>

